{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{createProduct,deleteProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_CREATE_RESET,PRODUCT_DELETE_RESET}from'../constants/productConstants';export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());},[createdProduct,dispatch,props.history,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete?')){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Products\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler},\"Crear Producto\")),loadingDelete&&/*#__PURE__*/React.createElement(LoadingBox,null),errorDelete&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorDelete),loadingCreate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorCreate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorCreate),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NOMBRE\"),/*#__PURE__*/React.createElement(\"th\",null,\"PRECIO\"),/*#__PURE__*/React.createElement(\"th\",null,\"CATEGORIA\"),/*#__PURE__*/React.createElement(\"th\",null,\"MARCA\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACCIONES\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.map(function(product){return/*#__PURE__*/React.createElement(\"tr\",{key:product._id},/*#__PURE__*/React.createElement(\"td\",null,product._id),/*#__PURE__*/React.createElement(\"td\",null,product.name),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,product.brand),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));}},\"Editar\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);}},\"Borrar\")));}))));}","map":{"version":3,"sources":["/home/pablo/Escritorio/dilobonito/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","ProductListScreen","props","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","productDelete","loadingDelete","errorDelete","successDelete","dispatch","type","history","push","_id","deleteHandler","window","confirm","createHandler","map","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  createProduct,\n  deleteProduct,\n  listProducts,\n} from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport {\n  PRODUCT_CREATE_RESET,\n  PRODUCT_DELETE_RESET,\n} from '../constants/productConstants';\n\nexport default function ProductListScreen(props) {\n  const productList = useSelector((state) => state.productList);\n  const { loading, error, products } = productList;\n\n  const productCreate = useSelector((state) => state.productCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct,\n  } = productCreate;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = productDelete;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({ type: PRODUCT_CREATE_RESET });\n      props.history.push(`/product/${createdProduct._id}/edit`);\n    }\n    if (successDelete) {\n      dispatch({ type: PRODUCT_DELETE_RESET });\n    }\n    dispatch(listProducts());\n  }, [createdProduct, dispatch, props.history, successCreate, successDelete]);\n\n  const deleteHandler = (product) => {\n    if (window.confirm('Are you sure to delete?')) {\n      dispatch(deleteProduct(product._id));\n    }\n  };\n  const createHandler = () => {\n    dispatch(createProduct());\n  };\n  return (\n    <div>\n      <div className=\"row\">\n        <h1>Products</h1>\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\n          Crear Producto\n        </button>\n      </div>\n\n      {loadingDelete && <LoadingBox></LoadingBox>}\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n      {loadingCreate && <LoadingBox></LoadingBox>}\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NOMBRE</th>\n              <th>PRECIO</th>\n              <th>CATEGORIA</th>\n              <th>MARCA</th>\n              <th>ACCIONES</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() =>\n                      props.history.push(`/product/${product._id}/edit`)\n                    }\n                  >\n                    Editar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Borrar\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}